(function(){let t={minimumDollars:5,presetDollars:{once:[20,50,200,500,1e3],monthly:[10,20,50,100,200],yearly:[20,50,100,200,500]}},n={once:"_xclick",subscription:"_xclick-subscriptions"},i=$(`
    <div class="interval">
      <div class="options">
        <span class="once">Once</span>
        <span class="monthly">Monthly</span>
        <span class="yearly">Yearly</span>
      </div>
      <div class="error">Please select an interval</div>
    </div>

    <div class="amount">
      <div class="options">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span class="manual">
          <input id="input-amount" type="text" autocomplete="off" />
        </span>
      </div>

      <div class="interval-hint">
        <span>âž¥</span>
        Please select interval
      </div>

      <div class="error">
        Please select an amount of min
        $<span class="min"></span>
      </div>
    </div>

    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank">
      <input type="hidden" name="business" value="patrick_schleizer@web.de">
      <input type="hidden" name="currency_code" value="USD">
      <input type="hidden" name="item_name" value="Plus Support">
      <input type="hidden" name="cmd">
      <input type="hidden" name="no_note" value="1">
      <button type="submit" class="submit">
        DONATE
        <span>via PayPal</span>
    </form>
  `),e={interval:{monthly:$('<input type="hidden" name="p3" value="1"><input type="hidden" name="t3" value="M"><input type="hidden" name="src" value="1">'),yearly:$('<input type="hidden" name="p3" value="1"><input type="hidden" name="t3" value="Y"><input type="hidden" name="src" value="1">')},amount:{once:$('<input type="hidden" name="amount">'),subscription:$('<input type="hidden" name="a3">')}};function s(e){let n=Number.parseFloat(e);return typeof n=="number"&&Number.isNaN(n)==!1&&n>=t.minimumDollars}function o(e,n){e.find(".amount span").each((e,s)=>{$(s).text(t.presetDollars[n][e])})}$.fn.payViaPaypal=function(a){if(a!="init")return;$(this).each(function(){if($(this).hasClass("js-fully-loaded"))return;let r;$(this).html(i.clone());let c={interval:{monthly:e.interval.monthly.clone(),yearly:e.interval.yearly.clone()},amount:{once:e.amount.once.clone(),subscription:e.amount.subscription.clone()}},a=$(this),l=a.children("form"),d=l.children("input[name=cmd]");a.find(".amount span").on("click",function(){if(!d.val()){a.addClass("paypal-interval-error");return}$(this).siblings().removeClass("active"),$(this).addClass("active"),$(this).hasClass("manual")?(r=$(this).children("input").val(),$(this).children("input")[0].focus()):r=$(this).text(),s(r)&&a.removeClass("paypal-amount-error")}),a.find(".amount span input").on("input",function(){r=$(this).val(),s(r)&&a.removeClass("paypal-amount-error")}),a.find(".interval span").on("click",function(){if(!a.hasClass("interval-selected")){let e=a.find(".amount"),t=e.outerHeight();a.addClass("interval-selected");let n=e.outerHeight();e.css("height",t).animate({height:n+"px"},200,()=>e.css("height",""))}let e=$(this).text().toLowerCase();o(a,e.toLowerCase()),a.find(".amount span.active").hasClass("manual")||(a.find(".amount span").removeClass("active"),a.find(".amount span.manual input").val(""),r=void 0),$(this).siblings().removeClass("active"),$(this).addClass("active"),l.find("input[name=p3], input[name=t3], input[name=a3]").remove(),e==="once"?(c.interval.monthly.remove(),c.interval.yearly.remove(),c.amount.subscription.remove(),l.prepend(c.amount.once),d.val(n.once)):(c.amount.once.remove(),l.prepend(c.amount.subscription),e==="monthly"?(c.interval.yearly.remove(),l.prepend(c.interval.monthly)):e==="yearly"&&(c.interval.monthly.remove(),l.prepend(c.interval.yearly)),d.val(n.subscription)),a.removeClass("paypal-interval-error")}),l.on("submit",function(){if(!d.val())return a.addClass("paypal-interval-error"),!1;if(s(r)==!1)return a.addClass("paypal-amount-error"),!1;if(d.val()===n.subscription){let e=Number.parseFloat(r).toFixed(2);console.log("Subscription amount set:",e),l.children("input[name=a3]").val(e),console.log("Subscription amount ok.")}else l.children("input[name=amount]").val(Number.parseFloat(r).toFixed(2));console.log("Form Submission Details:"),console.log("Amount before parsing: "+r),console.log("Parsed amount: "+Number.parseFloat(r).toFixed(2)),$(this).find("input").each(function(){console.log($(this).attr("name")+": "+$(this).val())});var e=$(this).serialize();return console.log("Form Data: ",e),console.log("Submission URL: ",this.action+"?"+e),!0}),o(a,"once"),a.find(".amount .error .min").text(t.minimumDollars),a.addClass("js-fully-loaded"),a.animate({opacity:1})})},$(".pay-via-paypal-module").payViaPaypal("init")})()