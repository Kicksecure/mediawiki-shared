(function(){function a(a){a.each(function(){if(!a.hasClass('mini-modal')||!a.attr('id')||a.hasClass('init-complete'))return;a.addClass('init-complete');let c=$(`<div style="display: none;" id="mini-modal-temp-container-${Math.random().toString().substring(2)}"></div>`);$('body').append(c),c.append(a.children()),a.empty().append('<div class="underlay"></div><i class="fas fa-times mm-close"></i><div class="content"></div>'),a.children('.content').append(c.children()),c.remove(),a.children('.underlay, .mm-close').on('click',()=>b(a))})}function c(b){a(b),b.addClass('active'),b.attr('data-url-hash')&&mwDev.tools.hashControl.set(b.attr('data-url-hash')),b.trigger('shown.miniModal')}function b(b){a(b),b.removeClass('active'),b.attr('data-url-hash')&&mwDev.tools.hashControl.set(''),b.trigger('hidden.miniModal')}$.fn.miniModal=function(d){switch(d){case'init':a($(this));break;case'show':c($(this));break;case'hide':b($(this));break;case'checkForModalsCalledByHash':let d=$(`.mini-modal[data-url-hash="${mwDev.tools.hashControl.get()}"]`);d.length&&c(d);break}},mwDev.tools.hashControl.register('',()=>$('.mini-modal.active').each((c,a)=>b($(a))))})()