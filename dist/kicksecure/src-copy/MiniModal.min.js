(function(){function e(e){e.each(function(){if(!e.hasClass("mini-modal")||!e.attr("id")||e.hasClass("init-complete"))return;e.addClass("init-complete");let n=$(`<div style="display: none;" id="mini-modal-temp-container-${Math.random().toString().substring(2)}"></div>`);$("body").append(n),n.append(e.children()),e.empty().append('<div class="underlay"></div><i class="fas fa-times mm-close"></i><div class="content"></div>'),e.children(".content").append(n.children()),n.remove(),e.children(".underlay, .mm-close").on("click",()=>t(e))})}function n(t){e(t),t.addClass("active"),t.attr("data-url-hash")&&mwDev.tools.hashControl.set(t.attr("data-url-hash")),t.trigger("shown.miniModal")}function t(t){e(t),t.removeClass("active"),t.attr("data-url-hash")&&mwDev.tools.hashControl.set(""),t.trigger("hidden.miniModal")}$.fn.miniModal=function(s){switch(s){case"init":e($(this));break;case"show":n($(this));break;case"hide":t($(this));break;case"checkForModalsCalledByHash":let s=$(`.mini-modal[data-url-hash="${mwDev.tools.hashControl.get()}"]`);s.length&&n(s);break}},mwDev.tools.hashControl.register("",()=>$(".mini-modal.active").each((e,n)=>t($(n))))})()