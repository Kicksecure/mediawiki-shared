(function(){let a=!0;function b(b){let a=`[data-tcc-contentId="${b}"]`;$('.tcc-tab'+a).parent().siblings().children().removeClass('active'),$('.tcc-section'+a).siblings().removeClass('active'),$(a+':not(.is-link)').addClass('active')}$.fn.tabContentController=function(c){if(c!='init'&&c!='select')return;if(c=='select'){let a=$(this).filter('.tcc-tab, .tcc-section');a.each((c,a)=>b($(a).attr('data-tcc-contentid')));return}let d=$(this).filter('.tab-content-controller');d.each(function(){if($(this).hasClass('js-fully-loaded'))return;let c=$(this).attr('data-tcc-linkid'),e=c?d.filter((b,a)=>$(a).attr('data-tcc-linkid')==c):$(this);e.each(function(){$(this).hasClass('tcc-dark')&&$(this).find('> .mininav').addClass('mn-dark'),$(this).find('> .mininav').append('<ul></ul>');let d=$(this).find('.mininav > ul');$(this).find('> .tcc-content > .tcc-section').each(function(k,l){let e=$(this),j=e.find('.tcc-title .mw-headline').attr('id'),g=$(`<li><a href="${window.location.href.split('#')[0]+'#'+j}"></a></li>`);e.find('> .tcc-content > p > a').length==1&&e.find('> .tcc-content > p').text().trim()==e.find('> .tcc-content > p > a').text()&&(g=$(`<li><a class="is-link" href="${e.find('> .tcc-content > p > a').attr('href')}"></a></li>`),e.addClass('is-link'));let f=g.children().first();f.addClass('tcc-tab'),f.text(e.find('> .tcc-title .mw-headline').text()),e.hasClass('active')&&f.addClass('active'),e.find('> .tcc-image img').length>0&&f.prepend(e.find('> .tcc-image img'));let h='id-'+Math.random().toString().substr(2),i=$(`[data-tcc-linkid="${c}"].js-fully-loaded`);i.length>0&&(h=i.eq(0).find('> .tcc-content > .tcc-section').eq(k).attr('data-tcc-contentId')),f.attr('data-tcc-contentId',h),e.attr('data-tcc-contentId',h),d.append(g),f.hasClass('is-link')||g.on('click',()=>{a=!1}),mwDev.tools.hashControl.register(j,function(){let c=$(`.tab-content-controller .tcc-title .mw-headline[id="${mwDev.tools.hashControl.get()}"]`);c.length>0&&(c.parents('.tcc-section').each(function(){b($(this).attr('data-tcc-contentid'))}),a&&($('html, body').animate({scrollTop:c.parents('.tab-content-controller')[0].getBoundingClientRect().top+window.pageYOffset-70},500),a=!0))},!0)}),$(this).find('.tcc-section').hasClass('active')||b(d.find('a:not(.is-link)').eq(0).attr('data-tcc-contentId')),$(this).addClass('js-fully-loaded')})})},$('.tab-content-controller').tabContentController('init'),$('#toc').length&&$('#toc a').on('click',()=>{a=!0})})()