(function(){let e=!0;function t(e){let t=`[data-tcc-contentId="${e}"]`;$(".tcc-tab"+t).parent().siblings().children().removeClass("active"),$(".tcc-section"+t).siblings().removeClass("active"),$(t+":not(.is-link)").addClass("active")}$.fn.tabContentController=function(n){if(n!="init"&&n!="select")return;if(n=="select"){let e=$(this).filter(".tcc-tab, .tcc-section");e.each((e,n)=>t($(n).attr("data-tcc-contentid")));return}let s=$(this).filter(".tab-content-controller");s.each(function(){if($(this).hasClass("js-fully-loaded"))return;let n=$(this).attr("data-tcc-linkid"),o=n?s.filter((e,t)=>$(t).attr("data-tcc-linkid")==n):$(this);o.each(function(){$(this).hasClass("tcc-dark")&&$(this).find("> .mininav").addClass("mn-dark"),$(this).find("> .mininav").append("<ul></ul>");let s=$(this).find(".mininav > ul");$(this).find("> .tcc-content > .tcc-section").each(function(o){let a=$(this),d=a.find(".tcc-title .mw-headline").attr("id"),c=$(`<li><a href="${window.location.href.split("#")[0]+"#"+d}"></a></li>`);a.find("> .tcc-content > p > a").length==1&&a.find("> .tcc-content > p").text().trim()==a.find("> .tcc-content > p > a").text()&&(c=$(`<li><a class="is-link" href="${a.find("> .tcc-content > p > a").attr("href")}"></a></li>`),a.addClass("is-link"));let r=c.children().first();r.addClass("tcc-tab"),r.text(a.find("> .tcc-title .mw-headline").text()),a.hasClass("active")&&r.addClass("active"),a.find("> .tcc-image img").length>0&&r.prepend(a.find("> .tcc-image img"));let l="id-"+Math.random().toString().substr(2),u=$(`[data-tcc-linkid="${n}"].js-fully-loaded`);u.length>0&&(l=u.eq(0).find("> .tcc-content > .tcc-section").eq(o).attr("data-tcc-contentId")),r.attr("data-tcc-contentId",l),a.attr("data-tcc-contentId",l),s.append(c),r.hasClass("is-link")||c.on("click",()=>{e=!1}),mwDev.tools.hashControl.register(d,function(){let n=$(`.tab-content-controller .tcc-title .mw-headline[id="${mwDev.tools.hashControl.get()}"]`);n.length>0&&(n.parents(".tcc-section").each(function(){t($(this).attr("data-tcc-contentid"))}),e&&($("html, body").animate({scrollTop:n.parents(".tab-content-controller")[0].getBoundingClientRect().top+window.pageYOffset-70},500),e=!0))},!0)}),$(this).find(".tcc-section").hasClass("active")||t(s.find("a:not(.is-link)").eq(0).attr("data-tcc-contentId")),$(this).addClass("js-fully-loaded")})})},$(".tab-content-controller").tabContentController("init"),$("#toc").length&&$("#toc a").on("click",()=>{e=!0})})()