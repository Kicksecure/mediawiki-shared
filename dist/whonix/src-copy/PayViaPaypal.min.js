(function(){let b={minimumDollars:5,presetDollars:{once:[20,50,200,500,1e3],monthly:[10,20,50,100,200],yearly:[20,50,100,200,500]}},c={once:'_xclick',subscription:'_xclick-subscriptions'},f=$(`
    <div class="interval">
      <div class="options">
        <span class="once">Once</span>
        <span class="monthly">Monthly</span>
        <span class="yearly">Yearly</span>
      </div>
      <div class="error">Please select an interval</div>
    </div>

    <div class="amount">
      <div class="options">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span class="manual">
          <input id="input-amount" type="text" autocomplete="off" />
        </span>
      </div>

      <div class="interval-hint">
        <span>âž¥</span>
        Please select interval
      </div>

      <div class="error">
        Please select an amount of min
        $<span class="min"></span>
      </div>
    </div>

    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank">
      <input type="hidden" name="business" value="patrick_schleizer@web.de">
      <input type="hidden" name="currency_code" value="USD">
      <input type="hidden" name="item_name" value="Plus Support">
      <input type="hidden" name="cmd">
      <input type="hidden" name="no_note" value="1">
      <button type="submit" class="submit">
        DONATE
        <span>via PayPal</span>
    </form>
  `),a={interval:{monthly:$('<input type="hidden" name="p3" value="1"><input type="hidden" name="t3" value="M"><input type="hidden" name="src" value="1">'),yearly:$('<input type="hidden" name="p3" value="1"><input type="hidden" name="t3" value="Y"><input type="hidden" name="src" value="1">')},amount:{once:$('<input type="hidden" name="amount">'),subscription:$('<input type="hidden" name="a3">')}};function d(c){let a=Number.parseFloat(c);return typeof a=='number'&&Number.isNaN(a)==!1&&a>=b.minimumDollars}function e(a,c){a.find('.amount span').each((a,d)=>{$(d).text(b.presetDollars[c][a])})}$.fn.payViaPaypal=function(g){if(g!='init')return;$(this).each(function(){if($(this).hasClass('js-fully-loaded'))return;let h;$(this).html(f.clone());let i={interval:{monthly:a.interval.monthly.clone(),yearly:a.interval.yearly.clone()},amount:{once:a.amount.once.clone(),subscription:a.amount.subscription.clone()}},g=$(this),j=g.children('form'),k=j.children('input[name=cmd]');g.find('.amount span').on('click',function(){if(!k.val()){g.addClass('paypal-interval-error');return}$(this).siblings().removeClass('active'),$(this).addClass('active'),$(this).hasClass('manual')?(h=$(this).children('input').val(),$(this).children('input')[0].focus()):h=$(this).text(),d(h)&&g.removeClass('paypal-amount-error')}),g.find('.amount span input').on('input',function(){h=$(this).val(),d(h)&&g.removeClass('paypal-amount-error')}),g.find('.interval span').on('click',function(){if(!g.hasClass('interval-selected')){let a=g.find('.amount'),b=a.outerHeight();g.addClass('interval-selected');let c=a.outerHeight();a.css('height',b).animate({height:c+'px'},200,()=>a.css('height',''))}let a=$(this).text().toLowerCase();e(g,a.toLowerCase()),g.find('.amount span.active').hasClass('manual')||(g.find('.amount span').removeClass('active'),g.find('.amount span.manual input').val(''),h=void 0),$(this).siblings().removeClass('active'),$(this).addClass('active'),j.find('input[name=p3], input[name=t3], input[name=a3]').remove(),a==='once'?(i.interval.monthly.remove(),i.interval.yearly.remove(),i.amount.subscription.remove(),j.prepend(i.amount.once),k.val(c.once)):(i.amount.once.remove(),j.prepend(i.amount.subscription),a==='monthly'?(i.interval.yearly.remove(),j.prepend(i.interval.monthly)):a==='yearly'&&(i.interval.monthly.remove(),j.prepend(i.interval.yearly)),k.val(c.subscription)),g.removeClass('paypal-interval-error')}),j.on('submit',function(){if(!k.val())return g.addClass('paypal-interval-error'),!1;if(d(h)==!1)return g.addClass('paypal-amount-error'),!1;if(k.val()===c.subscription){let a=Number.parseFloat(h).toFixed(2);console.log("Subscription amount set:",a),j.children('input[name=a3]').val(a),console.log("Subscription amount ok.")}else j.children('input[name=amount]').val(Number.parseFloat(h).toFixed(2));console.log("Form Submission Details:"),console.log("Amount before parsing: "+h),console.log("Parsed amount: "+Number.parseFloat(h).toFixed(2)),$(this).find('input').each(function(){console.log($(this).attr('name')+': '+$(this).val())});var a=$(this).serialize();return console.log("Form Data: ",a),console.log("Submission URL: ",this.action+"?"+a),!0}),e(g,'once'),g.find('.amount .error .min').text(b.minimumDollars),g.addClass('js-fully-loaded'),g.animate({opacity:1})})},$('.pay-via-paypal-module').payViaPaypal('init')})()